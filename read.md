リアルタイムビンゴゲーム
プロジェクト概要
このプロジェクトは、複数プレイヤーがオンラインでリアルタイムにビンゴゲームを楽しめる Web アプリケーションです。サーバーとクライアント間で Socket.IO を用いたイベント駆動型のリアルタイム通信を実装しました。ゲームマスターの選出や数字の抽選、プレイヤーの状態管理などをサーバーサイドで行うことで、データの整合性を保ち、スムーズなゲーム体験を提供します。

使用技術
バックエンド: Node.js, Express, TypeScript

リアルタイム通信: Socket.IO

データベース: Prisma, SQLite (プレイヤー情報などの永続化に使用)

フロントエンド: HTML, CSS, JavaScript (クライアント側の UI 構築)

開発ツール: npm, Webpack, Git

機能一覧
部屋の作成・参加: プレイヤーは任意の部屋番号を入力して、ゲームに参加できます。

ゲームマスター機能: 部屋に参加した最初のプレイヤーが自動的にゲームマスターに選ばれ、数字を抽選する権限を持ちます。

リアルタイム通信: ゲームマスターが数字を引くと、その数字はリアルタイムで部屋の全員の画面にブロードキャストされます。

ビンゴ判定: プレイヤーがカードのセルをマークすると、サーバーサイドでビンゴの成立を判定し、他のプレイヤーに通知します。

ゲームリセット: ゲームマスターは、ゲームの状態をリセットして再開できます。

開発における課題と解決策

1. クライアントとサーバー間の状態同期
   課題: 複数プレイヤーのビンゴカード、抽選された数字、ゲームマスターの情報など、多くのデータをリアルタイムで同期させる必要がありました。

解決策: サーバーサイドで sessions というマップにゲームの状態を一元管理しました。クライアントからのアクション（部屋への参加、数字を引くなど）を Socket.IO のイベントで受け取り、状態を更新した後、必要な情報を emit または broadcast で全クライアントに通知するイベント駆動型アーキテクチャを採用することで、データの整合性を確保しました。

2. callNumber ボタンの表示制御
   課題: 「数字を引く」ボタンはゲームマスターにのみ表示・操作させる必要がありました。

解決策: サーバーから送られる playerListUpdate イベントに、ゲームマスターの socket.id を含めてブロードキャストしました。クライアント側では、受け取った gameMasterId と自身の socket.id を比較し、ゲームマスターである場合にのみボタンを表示・有効化するロジックを実装しました。また、プレイヤーが 2 人以上になるまではボタンを無効化（グレー表示）することで、ゲーム開始前の不正な操作を防ぐように工夫しました。

実行方法
リポジトリのクローン

Bash

git clone [https://github.com/Ashika-18/bingo_game.git]
cd [プロジェクトディレクトリ]
依存関係のインストール

Bash

npm install
サーバーの起動

Bash

npm run dev
ブラウザでアクセス

お使いのブラウザで http://localhost:3000 にアクセスしてください。
